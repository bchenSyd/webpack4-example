<html>

<head>
    <meta charset="UTF-8">
    <title>sample</title>
</head>

<body style="margin:0;">
    <div id='root'>
        <h1> this is an EXTERNAL PAGE </h1>
        <button onclick="onToggle()">toggle content</button>
        <div id="content" style="height: 500px; display:none; border: 4px solid green; margin: 10px; padding: 40px;">
            <h1>this is the detailed content</h1>
            <button onclick="onSubmit()">submit page</button>
            <button onclick="onGoback()">go back</button>
        </div>

    </div>
    <script>
        function post_message(message, value) {
            window.parent.postMessage({
                message: message,
                value: value
            }, "*");
        }
        function onToggle() {
            var dom = document.querySelector('#content');
            if (dom.style.display === 'none') {
                dom.style.display = 'block';
            } else {
                dom.style.display = 'none';
            }
            const newHeight = document.querySelector('#root').scrollHeight;
            post_message('setHeight', newHeight);
        }
        function onSubmit(){
            alert('you should post your data into your data server and show a success message')
        }
        function onGoback(){
            post_message('complete');
        }
    </script>
</body>

</html>